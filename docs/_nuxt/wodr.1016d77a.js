import{o as d,c as L,Q as h,F as P,H as w,R as _,S as c,T as r,n as S,q as C,J as $,w as l,U as T,V as N,b as m,d as x,a as v,t as V,K as A}from"./entry.d01a4c19.js";import F from"./world.2f267dc3.js";import{_ as R}from"./_plugin-vue_export-helper.c27b6911.js";import{d as B,V as W,a as M,c as K}from"./VCard.9ac49a21.js";import"./intersectionObserver.7f4b3920.js";import"./index.7ed6e2e2.js";const k=(t,e)=>{const o=t.__vccOpts||t;for(const[p,i]of e)o[p]=i;return o},D=["id","name","path"],O={name:"SvgMap",props:{map:{type:Object,required:!0,validator(t){return typeof t.viewBox=="string"&&Array.isArray(t.locations)&&t.locations.every(e=>typeof e.path=="string"&&typeof e.id=="string")}},locationClass:{type:[String,Function],default:null},locationTabindex:{type:[String,Function],default:null},locationRole:{type:String,default:null},isLocationSelected:{type:Function,default:null}},computed:{isLocationClassFunction(){return typeof this.locationClass=="function"},isLocationTabindexFunction(){return typeof this.locationTabindex=="function"}},methods:{click({target:t}){this.$emit("select",t)},getLocationCustomProperties(t){const e={...t};return D.forEach(o=>delete e[o]),e}}},j=["viewBox","aria-label"],q=["id","name","d","tabindex","role","aria-label","aria-checked"];function E(t,e,o,p,i,a){return d(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:o.map.viewBox,"aria-label":o.map.label,class:"svg-map",onClick:e[0]||(e[0]=(...n)=>a.click&&a.click(...n)),onKeydown:e[1]||(e[1]=c(r((...n)=>a.click&&a.click(...n),["prevent"]),["space"]))},[h(t.$slots,"before"),(d(!0),L(P,null,w(o.map.locations,(n,s)=>(d(),L("path",_({id:n.id,key:n.id,name:n.name,d:n.path,class:["svg-map__location",a.isLocationClassFunction?o.locationClass(n,s):o.locationClass],tabindex:a.isLocationTabindexFunction?o.locationTabindex(n,s):o.locationTabindex,role:o.locationRole,"aria-label":n.name,"aria-checked":o.isLocationSelected&&o.isLocationSelected(n,s),ref_for:!0},{...t.$attrs,...a.getLocationCustomProperties(n)}),null,16,q))),128)),h(t.$slots,"after")],40,j)}const f=k(O,[["render",E]]),z={name:"CheckboxSvgMap",components:{SvgMap:f},model:{event:"change"},props:{value:{type:Array,default:()=>[]}},methods:{isLocationSelected(t){return this.value.some(e=>e===t.id)},toggleLocation(t){var e;return((e=t.attributes["aria-checked"])==null?void 0:e.value)==="true"?(this.$emit("remove",t.id),this.$emit("change",this.value.filter(o=>o!==t.id))):(this.$emit("add",t.id),this.$emit("change",this.value.concat([t.id])))}}};function H(t,e,o,p,i,a){const n=S("svg-map");return d(),C(n,_(t.$attrs,{role:"group","location-role":"checkbox","location-tabindex":"0","is-location-selected":a.isLocationSelected,onSelect:a.toggleLocation}),$({_:2},[w(t.$slots,(s,u)=>({name:u,fn:l(b=>[h(t.$slots,u,T(N(b)))])}))]),1040,["is-location-selected","onSelect"])}const G=k(z,[["render",H]]),J={name:"RadioSvgMap",components:{SvgMap:f},model:{event:"change"},props:{value:{type:String,default:null}},mounted(){this.locations=this.$refs.svg.$el.querySelectorAll("path")},methods:{getLocationTabindex(t,e){let o=null;return this.value?o=this.isLocationSelected(t)?"0":"-1":o=e===0?"0":"-1",o},isLocationSelected(t){return this.value===t.id},selectLocation(t){t.id!==this.value&&(t.focus(),this.$emit("change",t.id))},toggleLocation(t){const e=t.target;this.value!==e.id&&this.selectLocation(e)},selectNextLocation(t){const e=t.target.nextSibling,o=e&&e.nodeName==="path"?e:this.locations[0];this.selectLocation(o)},selectPreviousLocation(t){const e=t.target.previousSibling,o=e&&e.nodeName==="path"?e:this.locations[this.locations.length-1];this.selectLocation(o)}}};function Q(t,e,o,p,i,a){const n=S("svg-map");return d(),C(n,_({ref:"svg"},t.$attrs,{role:"radiogroup","location-role":"radio","location-tabindex":a.getLocationTabindex,"is-location-selected":a.isLocationSelected,onClick:e[0]||(e[0]=s=>a.selectLocation(s.target)),onKeydown:[c(r(a.toggleLocation,["prevent"]),["space"]),c(r(a.selectNextLocation,["prevent"]),["down"]),c(r(a.selectNextLocation,["prevent"]),["right"]),c(r(a.selectPreviousLocation,["prevent"]),["up"]),c(r(a.selectPreviousLocation,["prevent"]),["left"])]}),$({_:2},[w(t.$slots,(s,u)=>({name:u,fn:l(b=>[h(t.$slots,u,T(N(b)))])}))]),1040,["location-tabindex","is-location-selected","onKeydown"])}const U=k(J,[["render",Q]]);function y(t){y.installed||(y.installed=!0,t.component("SvgMap",f),t.component("CheckboxSvgMap",G),t.component("RadioSvgMap",U))}const X={install:y};let g=null;typeof window<"u"?g=window.Vue:typeof global<"u"&&(g=global.Vue);g&&g.use(X);const Y={components:{SvgMap:f},props:{},mounted(){},data(){return{World:F,pointedLocation:null,tooltipStyle:null}},methods:{getLocationName(t){var e;if((e=t==null?void 0:t.attributes)!=null&&e.name)return t&&t.attributes.name.value},getSelectedLocationName(t,e){return e&&t.locations.find(o=>o.id===e).name},pointLocation(t){this.pointedLocation=this.getLocationName(t.target)},unpointLocation(t){this.pointedLocation=null,this.tooltipStyle={display:"none"}},moveOnLocation(t){this.tooltipStyle=`display:block; top:${t.clientY+10}px; left:${t.clientX-100}px;`},getLocationClass(t,e){return`svg-map__location svg-map__location--heat${e%4}`}}},Z=v("div",{class:"w-75",style:{"text-wrap":"wrap"}}," This map highlights the countries where courts have sentenced women to death. Women are prosecuted and sentenced in criminal legal systems imbued with sexism, racism, xenophobia, classism, and ableism. ",-1),I=v("br",null,null,-1),tt=v("div",{class:"w-75",style:{"text-wrap":"wrap"}}," This data was gathered as part of an ongoing long-term collaboration between the Cornell Center on the Death Penalty Worldwide, The Advocates for Human Rights, the Center on Gender and Extreme Sentencing, and the World Coalition Against the Death Penalty. ",-1);function et(t,e,o,p,i,a){const n=S("svg-map");return d(),C(B,{class:"w-100 pa-6"},{default:l(()=>[m(W,{class:"d-flex justify-center"},{default:l(()=>[x(" Women on Death Row Worldwide ")]),_:1}),m(M,{class:"d-flex justify-center"},{default:l(()=>[Z]),_:1}),m(K,null,{default:l(()=>[m(n,{map:i.World,class:"ma-10","location-class":a.getLocationClass,onMouseover:a.pointLocation,onMouseout:a.unpointLocation,onMousemove:a.moveOnLocation},null,8,["map","location-class","onMouseover","onMouseout","onMousemove"]),v("div",{class:"examples__block__map__tooltip",style:A("position: fixed; width: 200px; padding: 10px; border: 1px solid darkgray; background-color: white; "+i.tooltipStyle)},V(i.pointedLocation),5),x(" MAP nav w mouse/kbd "),I,x(" legend: Abolitionist, Abolitionist for common law crimes, De facto abolitionist, Retentionist ")]),_:1}),m(M,{class:"d-flex justify-center"},{default:l(()=>[tt]),_:1})]),_:1})}const ct=R(Y,[["render",et]]);export{ct as default};
