(function(f,a){function L(e){a.addEventListener?(a.addEventListener("DOMContentLoaded",e),a.addEventListener("givegabPreview",e),a.addEventListener("disableScript",w)):f.attachEvent("onload",e)}function w(){a.removeEventListener("givegabPreview",c)}function N(){var e="https://givegab.s3.amazonaws.com/donation-widget/givegab-button.css",t=a.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e;var i=a.getElementsByTagName("head")[0];i.appendChild(t);var r=a.createElement("img");r.onerror=function(){E=!0,Array.from(l()).forEach(s=>n(s))},r.src=e}function C(){var e=a.getElementsByTagName("head")[0],t=a.createElement("script");t.type="text/javascript",t.src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.10/iframeResizer.min.js",e.appendChild(t)}function A(e,t,i){if(!v){v=!0,e.setAttribute("src",y+"/donation_widget?group_id="+b+"&campaign_id="+m+"&preview="+p),e.onload=function(){o=!0,i()};var r=t.getElementsByClassName("modal-content")[0];r.appendChild(e)}}function n(e){e&&(e.style.display="block")}function d(e){e&&(e.style.display="none")}function B(e,t){(t?n:d)(e)}function j(){var e=a.createElement("div");return e.className="givegab-modal",e.innerHTML='<div class="modal-content"></div>',a.body.appendChild(e),e}function z(){var e=a.createElement("div");return e.className="givegab-loader",a.body.appendChild(e),e}function I(){var e=a.createElement("iframe");return e.className="givegab-embedded-widget",e.style.width="100%",e.frameBorder=0,e}function l(){return a.getElementsByClassName("givegab-button")}function c(){for(var e=l(),t=j(),i=z(),r=I(),s=0;s<e.length;s++){var h=e[s];B(h,E),h.addEventListener("click",function(){if(o)return n(t);n(i),A(r,t,function(){d(i),n(t),iFrameResize({},".givegab-embedded-widget")}),a.body.classList?a.body.classList.add("givegab-modal-open"):a.body.className+=" givegab-modal-open"})}f.addEventListener("message",function(u){var R=u.message?"message":"data",g=u[R];g&&g.action&&g.action==="closeModal"&&(d(t),v=!1,o=!1,a.body.classList?a.body.classList.remove("givegab-modal-open"):a.body.className=a.body.className.replace(new RegExp("(^|\\b)"+"givegab-modal-open".split(" ").join("|")+"(\\b|$)","gi")," "))},!1)}var b=0,m="",p="",E=!1,o=!1,v=!1,y="";N(),C(),L(function(){var e=l()[0];b=e.getAttribute("data-org-id"),m=e.getAttribute("data-campaign-id")||"",y=e.getAttribute("data-host"),p=e.getAttribute("data-preview"),c()})})(window,document);
